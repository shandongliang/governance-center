"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _breadcrumb=require("antd/es/breadcrumb"),_breadcrumb2=_interopRequireDefault(_breadcrumb);require("antd/es/breadcrumb/style");var _react=require("react"),_react2=_interopRequireDefault(_react),_reactRouterDom=require("react-router-dom"),_antd=require("antd"),_lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_pathToRegexp=require("path-to-regexp"),_pathToRegexp2=_interopRequireDefault(_pathToRegexp),_index=require("./../../constant/index"),_index2=_interopRequireDefault(_index),_store=require("../../util/store"),_tabRouter=require("../../util/tabRouter.js"),_index3=require("./index.less"),_index4=_interopRequireDefault(_index3),_routeBrdcrumbMap=require("./../../route/routeBrdcrumbMap"),_routeBrdcrumbMap2=_interopRequireDefault(_routeBrdcrumbMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var BreadV4P=function(e){_store.navStore.get(_index2.default.NAV_LIST);var r,t,a,u,_,d=e.location,o=(r=d.pathname,_=[],(t=r,a=Object.keys(_routeBrdcrumbMap2.default),u=[{path:a[0],url:a[0],name:_routeBrdcrumbMap2.default[a[0]],isExact:!1,params:{}}],a.map(function(e){var r=(0,_reactRouterDom.matchPath)(t,{path:e});r&&u.push(r)}),u).forEach(function(e){var r=e.path,t=e.url,a=e.params,u=breadNameByUrl=_routeBrdcrumbMap2.default[t],d=breadNameByPath=_routeBrdcrumbMap2.default[r],o=-1<breadNameByPath.indexOf(":"),n={};n.url=t,u?n.name=breadNameByUrl:d&&!o?n.name=breadNameByPath:Object.keys(a).map(function(e){breadNameByPath.substr(1)===e&&(n.name=a[e])}),_.every(function(e){return!_lodash2.default.isEqual(e,n)})&&_.push(n)}),_),n="",i=o.map(function(e){return n+=e.name+" / ",_react2.default.createElement(_breadcrumb2.default.Item,{key:e.url},_react2.default.createElement(_reactRouterDom.Link,{to:e.url},e.name))});return _store.authStore.set(_index2.default.BREADCRUMB_PATH,n.substr(0,n.lastIndexOf(" /"))),_react2.default.createElement(_breadcrumb2.default,{className:"breadcrumbV4P"},i)};exports.default=(0,_reactRouterDom.withRouter)(BreadV4P),module.exports=exports.default;