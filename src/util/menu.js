"use strict";var _lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_store=require("./store"),_index=require("./../constant/index"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var arrayToTree=function(e,r,n,t){var u=1<arguments.length&&void 0!==r?r:"id",o=2<arguments.length&&void 0!==n?n:"pid",a=3<arguments.length&&void 0!==t?t:"children",i=_lodash2.default.cloneDeep(e),l=[],d={};return i.forEach(function(e,r){d[i[r][u]]=i[r]}),i.forEach(function(e){var r=d[e[o]];r?(r[a]||(r[a]=[]),r[a].push(e)):l.push(e)}),l},queryArray=function(e,r,n){var t=2<arguments.length&&void 0!==n?n:"key";if(!(e instanceof Array))return null;var u=e.filter(function(e){return e[t]===r});return u.length?u[0]:null},getCurMenu=function(e){for(var r=_store.menuStore.get(_index2.default.MENU_INFO),n=e.substring(1).replace(/\//g,"."),t=n.slice(0,n.lastIndexOf(".")),u=null,o={},a=0;a<r.length;a++){o[r[a].action]=r[a]}return o.hasOwnProperty(n)?u=o[n]:o.hasOwnProperty(t)&&(u=o[t]),u};module.exports={arrayToTree:arrayToTree,queryArray:queryArray,getCurMenu:getCurMenu};